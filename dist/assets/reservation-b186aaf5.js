import{r as g,j as e,S as J,T as W,P as n,I as we,e as w,f as ue,M as U,B as Me,s as Ke,w as He,W as Le}from"./index-37c868fe.js";import{g as ze}from"./hotel-30c6b3dd.js";import{g as $e}from"./agency-a921e9d4.js";import{g as Ge}from"./service-744be99f.js";import{g as Be}from"./vehicle-b94c298b.js";import{p as Je,d as Ue,g as qe,a as Ye,b as Xe}from"./resa-87a6fc8b.js";import{L as $,A as G,D as B,d as E,u as Qe}from"./utc-fdcd5077.js";import{E as Ze,D as he,a as me,b as pe,G as d,c as xe,T as le,d as u,e as Ve,f as et,g as tt,h as at,i as nt,j as it,k as rt}from"./jspdf.plugin.autotable-ff90154c.js";import{u as re,w as st}from"./xlsx-f5126985.js";import{T as m,O as lt,I as ot}from"./InputAdornment-602fc9fc.js";import{A as z}from"./Autocomplete-f254990d.js";import{B as M}from"./Button-ddf301b8.js";import{C as ct}from"./Container-c77749db.js";import{C as dt}from"./Card-3d767025.js";import"./axios-9b9683dd.js";import"./useThemeProps-6a606e27.js";import"./Menu-e7019645.js";import"./visuallyHidden-fa9934b5.js";import"./typeof-7fd5df1e.js";import"./usePreviousProps-e299b11f.js";function fe(l){const s=new Date(l);console.log(s);const h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=s.getDate(),i=h[s.getMonth()],v=s.getFullYear();return`${o}/${i}/${v}`}const ut={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"},q=l=>{if(!l)return"";const[s,h]=l.split(" ");let[o,i]=s.split(":");return h==="PM"&&o!=="12"&&(o=String(parseInt(o,10)+12)),h==="AM"&&o==="12"&&(o="00"),o=o.padStart(2,"0"),i=i.padStart(2,"0"),`${o}:${i}`};function ht(l,s,h){return l?Math.max(0,(1+l)*s-h):0}const mt=l=>{l.sort((i,v)=>new Date(v.service_date)-new Date(i.service_date));const s=re.book_new(),h=[["Client Name","From","To","Service Type","Date Service","Arv / Dep","Flight No","Flight Time","Pick up Time","Agency","Adult","Driver","Guid","Remarks"],...l.map(i=>[i.client,i.from,i.hotel,i.service_type,fe(i.service_date),i.arb_dep,i.flight_no,i.flight_time,i.pickup_time,i.agency,i.adult,i.driver,i.guid,i.resa_remark])],o=re.aoa_to_sheet(h);re.book_append_sheet(s,o,"Daily Planning"),st(s,"daily_planning.xlsx")},pt=l=>{l.sort((i,v)=>new Date(v.service_date)-new Date(i.service_date));const s=new Ze({orientation:"landscape",unit:"pt",format:[1500,600]}),h=[{header:"Client Name",dataKey:"client"},{header:"From",dataKey:"from"},{header:"To",dataKey:"hotel"},{header:"Service Type",dataKey:"service_type"},{header:"Date Service",dataKey:"service_date"},{header:"Arv / Dep",dataKey:"arb_dep"},{header:"Flight No",dataKey:"flight_no"},{header:"Flight Time",dataKey:"flight_time"},{header:"Pick up Time",dataKey:"pickup_time"},{header:"Agency",dataKey:"agency"},{header:"Adult",dataKey:"adult"},{header:"Driver",dataKey:"driver"},{header:"Guid",dataKey:"guid"},{header:"Remarks",dataKey:"remarks"}],o=l.map(i=>({client:i.client,from:i.from,hotel:i.hotel,service_type:i.service_type,service_date:fe(i.service_date),arb_dep:i.arb_dep,flight_no:i.flight_no,flight_time:i.flight_time,pickup_time:i.pickup_time,agency:i.agency,adult:i.adult,driver:i.driver,guid:i.guid,remarks:i.resa_remark}));s.autoTable({head:[h.map(i=>i.header)],body:o.map(i=>h.map(v=>i[v.dataKey]))}),s.save("daily_planning.pdf")},de={adult:"",adult_price:"",agency_ref_no:"",agency:null,arb_dep:"",pickup_time:"",child:"",child_price:"",client:"",cur:"",date:"",type_vehicle:"",dossier_no:"",effect_date:"",endofservice:"",flight_no:"",flight_time:"",from:null,hotel:null,htl_region:"",infant:"",invoce_on:"",resa_remark:"",service:null,service_date:"",service_detail:"",service_type:"",status:"",total_price:"",_id:""};function ge({open:l,onClose:s,onSave:h,initialData:o,maxNumber:i,hotel:v,agency:b,service:A,vehicle:p}){const[r,C]=g.useState(de);function I(t){const f=new Date(t);let _=f.getHours();const D=String(f.getMinutes()).padStart(2,"0"),F=_>=12?"PM":"AM";return _=_%12||12,`${String(_).padStart(2,"0")}:${D} ${F}`}g.useEffect(()=>{C(o?{...o,flight_time:q(o.flight_time),pickup_time:q(o.pickup_time)}:{...de,dossier_no:i+1})},[o,i]);const c=t=>{console.log(t);const{name:f,value:_}=t.target;C({...r,[f]:_}),console.log(r)},R=()=>{const t={...r};Object.entries(t).forEach(([f,_])=>{if(_ instanceof Date){const D=new Date(_),K=-D.getTimezoneOffset()/60===2?new Date(D.getTime()+108e5).toString():_;t[f]=K}else{const D=Date.parse(`1970-01-01T${_}`);Number.isNaN(D)||(t[f]=I(D))}}),h(t),s()},O=b.map(t=>({label:t.name,value:t.name})),S=v.map(t=>({label:t.name,value:t.name})),y=A.map(t=>({label:t.name,value:t.name})),k=p.map(t=>({label:t.name,value:t.name}));return e.jsxs(he,{open:l,onClose:s,maxWidth:"xl",fullWidth:!0,children:[e.jsx(me,{sx:{bgcolor:"primary.main",color:"white"},children:o?"Edit Reservation":"New Reservation"}),e.jsx(pe,{children:e.jsxs(J,{spacing:3,children:[e.jsx(W,{variant:"h6",sx:{mt:2},children:"General Information"}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Dossier No",name:"dossier_no",disabled:!0,value:r.dossier_no,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Client",name:"client",value:r.client,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Agency Reference no",name:"agency_ref_no",value:r.agency_ref_no,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(z,{options:O,getOptionLabel:t=>t.label,value:O.find(t=>t.value===r.agency)||null,onChange:(t,f)=>{c({target:{name:"agency",value:f?f.value:""}})},fullWidth:!0,renderInput:t=>e.jsx(m,{...t,label:"Agency",variant:"outlined"})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx($,{dateAdapter:G,children:e.jsx(B,{label:"Service Date",name:"service_date",value:E(r.service_date),onChange:t=>C({...r,service_date:t?E(t).toDate():null}),renderInput:t=>e.jsx(m,{...t})})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx($,{dateAdapter:G,children:e.jsx(B,{label:"End of Service",name:"endofservice",value:E(r.endofservice),onChange:t=>C({...r,endofservice:t?E(t).toDate():null}),renderInput:t=>e.jsx(m,{...t})})})})]}),e.jsx(W,{variant:"h6",sx:{mt:2},children:"Service Details"}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(z,{options:y,getOptionLabel:t=>t.label,value:y.find(t=>t.value===r.service)||null,onChange:(t,f)=>{c({target:{name:"service",value:f?f.value:""}})},fullWidth:!0,renderInput:t=>e.jsx(m,{...t,label:"Service",variant:"outlined"})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Service Type",name:"service_type",value:r.service_type,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Arrival/Departure",name:"arb_dep",value:r.arb_dep,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Flight No",name:"flight_no",value:r.flight_no,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Flight Time",name:"flight_time",value:r.flight_time,onChange:c,fullWidth:!0,variant:"outlined",type:"time",InputLabelProps:{shrink:!0}})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Pickup Time",name:"pickup_time",value:r.pickup_time,onChange:c,fullWidth:!0,variant:"outlined",type:"time",InputLabelProps:{shrink:!0}})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(z,{options:S,getOptionLabel:t=>t.label,value:S.find(t=>t.value===r.from)||null,onChange:(t,f)=>{c({target:{name:"from",value:f?f.value:""}})},fullWidth:!0,renderInput:t=>e.jsx(m,{...t,label:"From",variant:"outlined"})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(z,{options:S,getOptionLabel:t=>t.label,value:S.find(t=>t.value===r.hotel)||null,onChange:(t,f)=>{c({target:{name:"hotel",value:f?f.value:""}})},fullWidth:!0,renderInput:t=>e.jsx(m,{...t,label:"Hotel",variant:"outlined"})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Hotel Region",name:"htl_region",value:r.htl_region,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(z,{options:k,getOptionLabel:t=>t.label,value:k.find(t=>t.value===r.type_vehicle)||null,onChange:(t,f)=>{c({target:{name:"type_vehicle",value:f?f.value:""}})},fullWidth:!0,renderInput:t=>e.jsx(m,{...t,label:"Type of Vehicle",variant:"outlined"})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Remarks",name:"resa_remark",value:r.resa_remark,onChange:c,fullWidth:!0,variant:"outlined",multiline:!0,rows:4})})]}),e.jsx(W,{variant:"h6",sx:{mt:2},children:"Pricing Information"}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,sm:3,children:e.jsx(m,{label:"Adult",name:"adult",value:r.adult,onChange:c,fullWidth:!0,variant:"outlined",type:"number"})}),e.jsx(d,{item:!0,xs:12,sm:3,children:e.jsx(m,{label:"Adult Price",name:"adult_price",value:r.adult_price,onChange:c,fullWidth:!0,variant:"outlined",type:"number"})}),e.jsx(d,{item:!0,xs:12,sm:3,children:e.jsx(m,{label:"Child",name:"child",value:r.child,onChange:c,fullWidth:!0,variant:"outlined",type:"number"})}),e.jsx(d,{item:!0,xs:12,sm:3,children:e.jsx(m,{label:"Child Price",name:"child_price",value:r.child_price,onChange:c,fullWidth:!0,variant:"outlined",type:"number"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Total Price",name:"total_price",value:r.total_price,onChange:c,fullWidth:!0,variant:"outlined",type:"number"})})]}),e.jsx(W,{variant:"h6",sx:{mt:2},children:"Additional Information"}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Currency",name:"cur",value:r.cur,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Invoice No",name:"inv_no",value:r.inv_no,onChange:c,fullWidth:!0,variant:"outlined"})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx($,{dateAdapter:G,children:e.jsx(B,{label:"Effect Date",name:"effect_date",value:E(r.effect_date),onChange:t=>C({...r,effect_date:t?E(t).toDate():null}),renderInput:t=>e.jsx(m,{...t})})})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(m,{label:"Status",name:"status",value:r.status,onChange:c,fullWidth:!0,variant:"outlined"})})]})]})}),e.jsxs(xe,{children:[e.jsx(M,{onClick:s,color:"inherit",children:"Cancel"}),e.jsx(M,{onClick:R,variant:"contained",children:"Save"})]})]})}ge.propTypes={open:n.bool,onClose:n.func,onSave:n.func,initialData:n.object,maxNumber:n.any,hotel:n.any,agency:n.any,service:n.any,vehicle:n.any};function se(l){if(!l)return"";const s=new Date(l),h=String(s.getDate()).padStart(2,"0"),o=String(s.getMonth()+1).padStart(2,"0");return`${s.getFullYear()}-${o}-${h}`}function ve({selected:l,id:s,dossier_no:h,service_type:o,arb_dep:i,client:v,agency_ref_no:b,agency:A,from:p,hotel:r,htl_region:C,service_date:I,endofservice:c,type_vehicle:R,adult:O,child:S,infant:y,flight_no:k,flight_time:t,pickup_time:f,resa_remark:_,service:D,adult_price:F,child_price:K,total_price:Y,cur:X,invoce_on:Q,status:Z,effect_date:V,editAction:ee,deleteAction:te}){const[H,T]=g.useState(null),ae=ie=>{T(ie.currentTarget)},N=()=>{T(null)},ne=()=>{ee(),T(null)},P=()=>{te(),T(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(le,{hover:!0,tabIndex:-1,role:"checkbox",selected:l,children:[e.jsx(u,{align:"right",children:e.jsx(we,{onClick:ae,children:e.jsx(w,{icon:"eva:more-vertical-fill"})})}),e.jsx(u,{component:"th",scope:"row",children:e.jsx(J,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(W,{variant:"subtitle2",noWrap:!0,children:h})})}),e.jsx(u,{component:"th",scope:"row",children:e.jsx(J,{direction:"row",alignItems:"center",spacing:2,children:e.jsx(W,{variant:"subtitle2",noWrap:!0,children:o})})}),e.jsx(u,{children:i}),e.jsx(u,{children:v}),e.jsx(u,{children:b}),e.jsx(u,{children:A}),e.jsx(u,{children:p}),e.jsx(u,{children:r}),e.jsx(u,{children:C}),e.jsx(u,{children:se(I)}),e.jsx(u,{children:se(c)}),e.jsx(u,{children:O}),e.jsx(u,{children:S}),e.jsx(u,{children:y}),e.jsx(u,{children:k}),e.jsx(u,{children:q(t)}),e.jsx(u,{children:q(f)}),e.jsx(u,{children:_}),e.jsx(u,{children:D}),e.jsx(u,{children:R}),e.jsx(u,{children:F}),e.jsx(u,{children:K}),e.jsx(u,{children:Y}),e.jsx(u,{children:X}),e.jsx(u,{children:Q}),e.jsx(u,{children:Z}),e.jsx(u,{children:se(V)})]}),e.jsxs(ue,{open:!!H,anchorEl:H,onClose:N,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(U,{onClick:ne,children:[e.jsx(w,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(U,{onClick:P,sx:{color:"error.main"},children:[e.jsx(w,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]})]})}ve.propTypes={id:n.any,dossier_no:n.any,service_type:n.any,arb_dep:n.any,client:n.any,agency_ref_no:n.any,agency:n.any,from:n.any,hotel:n.any,htl_region:n.any,service_date:n.any,endofservice:n.any,type_vehicle:n.any,pickup_time:n.any,adult:n.any,child:n.any,infant:n.any,flight_no:n.any,flight_time:n.any,resa_remark:n.any,service:n.any,adult_price:n.any,child_price:n.any,total_price:n.any,cur:n.any,invoce_on:n.any,status:n.any,effect_date:n.any,selected:n.any,editAction:n.func,deleteAction:n.func};const xt=Ke(et)(({theme:l})=>({position:"sticky",top:0,backgroundColor:"#ddf4ff",zIndex:l.zIndex.appBar}));function je({order:l,orderBy:s,rowCount:h,headLabel:o,numSelected:i,onRequestSort:v,onSelectAllClick:b}){const A=p=>r=>{v(r,p)};return e.jsx(xt,{children:e.jsx(le,{children:o.map(p=>e.jsx(u,{align:p.align||"left",sortDirection:s===p.id?l:!1,sx:{width:p.width,minWidth:p.minWidth,backgroundColor:"#aaf4ff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:"4px",paddingTop:"10px",paddingBottom:"10px"},children:e.jsxs(Ve,{hideSortIcon:!0,active:s===p.id,direction:s===p.id?l:"asc",onClick:A(p.id),children:[p.label,s===p.id?e.jsx(Me,{sx:{...ut},children:l==="desc"?"sorted descending":"sorted ascending"}):null]})},p.id))})})}je.propTypes={order:n.oneOf(["asc","desc"]),orderBy:n.string,rowCount:n.number,headLabel:n.array,numSelected:n.number,onRequestSort:n.func,onSelectAllClick:n.func};function ye({emptyRows:l,height:s}){return l?e.jsx(le,{sx:{...s&&{height:s*l}},children:e.jsx(u,{colSpan:9})}):null}ye.propTypes={emptyRows:n.number,height:n.number};E.extend(Qe);function _e({onGetDate:l,onGetEndDate:s,filterName:h,onFilterName:o,onNewResa:i,loading:v,excelAction:b,pdfAction:A}){const[p,r]=g.useState(null),C=y=>{const k=E(y).toDate();l(k)},I=y=>{const k=E(y).toDate();s(k)},c=y=>{r(y.currentTarget)},R=()=>{r(null)},O=()=>{A(),r(null)},S=()=>{b(),r(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(He,{sx:{height:96,display:"flex",justifyContent:"space-between",p:y=>y.spacing(0,1,0,3)},children:[e.jsx(lt,{value:h,onChange:o,placeholder:"Search Client Name...",startAdornment:e.jsx(ot,{position:"start",children:e.jsx(w,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}),e.jsx($,{dateAdapter:G,children:e.jsx(B,{label:"Select Start Date",onChange:C,renderInput:y=>e.jsx(m,{...y})})}),e.jsx($,{dateAdapter:G,sx:{ml:4},children:e.jsx(B,{sx:{ml:4},label:"Select End Date",onChange:I,renderInput:y=>e.jsx(m,{...y})})}),e.jsx(M,{variant:"contained",color:"inherit",startIcon:e.jsx(w,{icon:"eva:plus-fill"}),onClick:i,disabled:v,children:v?"Loading data...":"New Reservation"}),e.jsxs(M,{onClick:c,sx:{ml:2},variant:"contained",color:"secondary",children:[e.jsx(w,{icon:"eva:more-vertical-fill"}),"Export Data"]})]}),e.jsxs(ue,{open:!!p,anchorEl:p,onClose:R,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsx(U,{onClick:O,children:"PDF"}),e.jsx(U,{onClick:S,sx:{color:"error.main"},children:"EXCEL"})]})]})}_e.propTypes={filterName:n.string,onFilterName:n.func,onNewResa:n.func,loading:n.any,pdfAction:n.func,excelAction:n.func,onGetDate:n.func,onGetEndDate:n.func};function ft(){const[l,s]=g.useState([]),[h,o]=g.useState(0),[i,v]=g.useState(0),[b,A]=g.useState("desc"),[p,r]=g.useState("_id"),[C,I]=g.useState(!1),[c,R]=g.useState(null),[O,S]=g.useState(!1),[y,k]=g.useState(""),[t,f]=g.useState(""),[_,D]=g.useState(""),[F,K]=g.useState([]),[Y,X]=g.useState([]),[Q,Z]=g.useState([]),[V,ee]=g.useState([]),[te,H]=g.useState(!1),[T,ae]=g.useState(null),[N,ne]=g.useState(null),[P,ie]=g.useState(15);g.useEffect(()=>{(async()=>{try{H(!0);const x=await ze(),j=await $e(),L=await Ge(),Fe=await Be();K(x.data),X(j.data),Z(L.data),ee(Fe.data)}catch{alert("network Error. Refresh page")}finally{H(!1)}})()},[]);const be=(a,x)=>{x!==""&&(A(p===x&&b==="asc"?"desc":"asc"),r(x))},De=a=>{o(0),f(a.target.value)},Ce=()=>{R(null),I(!0)},Se=a=>{R(a),I(!0)},ke=()=>{I(!1)},Te=async a=>{const x={filterData:t,orderKey:b,orderDirect:p,newData:a,page:h+1,limit:P},j=await Je(x);j===500?alert("Network Error"):(alert(c?"A data updated successfully":"A data added successfully"),D(j.maxDossierNo),s(j.data),v(j.totalItems))},Ae=(a,x)=>{o(x)},Ie=a=>{o(0),ie(parseInt(a.target.value,10))},Pe=a=>{k(a._id),S(!0)},oe=()=>{S(!1)},Ee=async()=>{S(!1);const a={filterData:t,orderKey:b,orderDirect:p,id:y,page:h+1,limit:P},x=await Ue(a);x===500?alert("Network Error."):(alert("A data deleted successfully."),D(x.maxDossierNo),s(x.data),v(x.totalItems))},Re=async a=>{const x=new Date(a),L=-x.getTimezoneOffset()/60===2?new Date(x.getTime()+108e5).toString():a;ae(L)},Oe=async a=>{const x=new Date(a),L=-x.getTimezoneOffset()/60===2?new Date(x.getTime()+108e5).toString():a;ne(L)};g.useEffect(()=>{(async()=>{if(!T||!N){const x={filterData:t,orderKey:b,orderDirect:p,page:h+1,limit:P},j=await qe(x);j.status===500?alert("Network Error"):(D(j.maxDossierNo),s(j.data),v(j.totalItems))}else{if(T>N){alert("Input currece Date!");return}try{const x={start:T,end:N,filterData:t,orderKey:b,orderDirect:p,page:h+1,limit:P},j=await Ye(x);j===500?alert("Network Error"):(D(j.maxDossierNo),s(j.data),v(j.totalItems))}catch(x){console.error("Error fetching data:",x),alert("An unexpected error occurred")}}})()},[T,N,h,P,b,p,t]);const ce=async()=>(await Xe({start:T,end:N})).data,Ne=async()=>{const a=await ce();pt(a)},We=async()=>{const a=await ce();mt(a)};return e.jsxs(ct,{maxWidth:!1,children:[e.jsx(J,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsx(W,{variant:"h4",children:"Reservation"})}),e.jsxs(dt,{children:[e.jsx(_e,{filterName:t,onFilterName:De,onNewResa:Ce,loading:te,onGetDate:Re,onGetEndDate:Oe,pdfAction:Ne,excelAction:We}),e.jsx(tt,{sx:{overflow:"auto",height:"76vh"},children:e.jsxs(at,{sx:{minWidth:800},children:[e.jsx(je,{order:b,orderBy:p,rowCount:l.length,onRequestSort:be,headLabel:[{id:""},{id:"dossier_no",label:"Dossier No"},{id:"service_type",label:"Service Type"},{id:"arb_dep",label:"Ar / Dep"},{id:"client",label:"Client Name"},{id:"agency_ref_no",label:"Agency Reference no"},{id:"agency",label:"Agency"},{id:"from",label:"From"},{id:"hotel",label:"Hotel"},{id:"htl_region",label:"Hotel Region"},{id:"service_date",label:"Service Date"},{id:"endofservice",label:"End of Service"},{id:"adult",label:"Adult"},{id:"child",label:"Child"},{id:"infant",label:"Infant"},{id:"flight_no",label:"Flight No"},{id:"flight_time",label:"Flight Time"},{id:"pickup_time",label:" Pick-up Time"},{id:"resa_remark",label:"Remarks"},{id:"service",label:"Service"},{id:"type_vehicle",label:"Type of Vehicle"},{id:"adult_price",label:"Adult Price"},{id:"child_price",label:"Child Price"},{id:"total_price",label:"Total Price"},{id:"cur",label:"Currency"},{id:"invoce_on",label:"Invoice No"},{id:"status",label:"Status"},{id:"effect_date",label:"Effect_date"}]}),e.jsxs(nt,{children:[l.map(a=>e.jsx(ve,{id:a._id,dossier_no:a.dossier_no,service_type:a.service_type,arb_dep:a.arb_dep,client:a.client,agency_ref_no:a.agency_ref_no,agency:a.agency,from:a.from,hotel:a.hotel,htl_region:a.htl_region,service_date:a.service_date,endofservice:a.endofservice,adult:a.adult,child:a.child,infant:a.infant,flight_no:a.flight_no,flight_time:a.flight_time,pickup_time:a.pickup_time,resa_remark:a.resa_remark,service:a.service,type_vehicle:a.type_vehicle,adult_price:a.adult_price,child_price:a.child_price,total_price:a.total_price,cash_credit:a.cash_credit,cur:a.cur,invoce_on:a.invoce_on,status:a.status,effect_date:a.effect_date,deleteAction:()=>Pe(a),editAction:()=>Se(a)},a._id)),e.jsx(ye,{height:77,emptyRows:ht(h,P,i)})]})]})}),e.jsx(it,{page:h,component:"div",count:i,rowsPerPage:P,onPageChange:Ae,rowsPerPageOptions:[5,10,15,25,50,100],onRowsPerPageChange:Ie})]}),e.jsx(ge,{open:C,onClose:ke,onSave:Te,initialData:c,maxNumber:_,hotel:F,agency:Y,service:Q,vehicle:V}),e.jsxs(he,{open:O,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(me,{id:"alert-dialog-title",children:"Confirm Deletion"}),e.jsx(pe,{children:e.jsx(rt,{id:"alert-dialog-description",children:"Are you sure you want to delete this item? This action cannot be undone."})}),e.jsxs(xe,{children:[e.jsx(M,{onClick:oe,color:"primary",children:"Cancel"}),e.jsx(M,{onClick:Ee,color:"error",autoFocus:!0,children:"Delete"})]})]})]})}function wt(){return e.jsxs(e.Fragment,{children:[e.jsx(Le,{children:e.jsx("title",{children:" Reservations "})}),e.jsx(ft,{})]})}export{wt as default};
